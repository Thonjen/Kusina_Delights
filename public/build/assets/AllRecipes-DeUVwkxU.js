import{L as w}from"./frontend-CQ0GuMzs.js";import{S as u,l as v,m as y,c as k,w as C,o as l,b as e,f as n,p as g,F as x,g as m,t as i,d as f,n as h}from"./app-B9TWRML0.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={components:{Layout:w},props:{recipes:Object},computed:{pages(){const o=[];for(let t=1;t<=this.recipes.last_page;t++)o.push(t);return o}},methods:{async deleteRecipe(o){try{if((await u.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",background:"rgba(255, 255, 255, 1)",confirmButtonColor:"rgba(204, 162, 35, 1)",cancelButtonColor:"rgba(54, 69, 79, 1)",iconColor:"rgba(255, 219, 99, 1)",customClass:{popup:"swal-popup"}})).isConfirmed&&(await v.delete(`/chef/dashboard/recipes/${o}`)).status===200){const c=this.recipes.data.findIndex(b=>b.RecipeID===o);c!==-1&&this.recipes.data.splice(c,1),u.fire({icon:"success",title:"Deleted!",text:"The recipe has been deleted successfully."})}}catch(t){console.error(t),u.fire({icon:"error",title:"Error",text:"Something went wrong. Please try again later."})}},goToPage(o){o>=1&&o<=this.recipes.last_page&&this.$inertia.get("/chef/dashboard/recipes/all",{page:o})},goBack(){this.$inertia.visit("/chef/dashboard")}}},T={class:"relative overflow-hidden"},N={class:"flex items-center justify-center h-full relative mt-10 mb-10"},P={class:"bg-white w-full max-w-screen-lg p-12 rounded-3xl shadow-2xl"},D={class:"flex flex-col gap-8 w-full min-h-[400px]"},j={class:"space-y-8"},I={key:0,class:"text-sm text-black-100"},L=["src"],A={class:"w-full"},S={class:"flex justify-between mb-4"},V={class:"w-2/4"},E={class:"font-semibold text-lg text-black-100 mb-2"},F={class:"text-sm text-black-100"},O={class:"text-black-100 italic text-sm mb-4"},Y={class:"flex text-normal"},z={key:1,class:"text-gray-500 text-sm"},G={class:"flex flex-col items-end w-2/4 gap-4"},M=["href"],q=["onClick"],H={class:"flex justify-center mt-8 space-x-4"},J={class:"flex items-center space-x-2"},K=["onClick"];function Q(o,t,a,c,b,r){const _=y("Layout");return l(),k(_,null,{default:C(()=>[e("div",T,[t[9]||(t[9]=e("div",{class:"absolute inset-0 -m-[20px]"},[e("div",{class:"absolute inset-0 bg-cover bg-center",style:{"background-image":"url('https://c.animaapp.com/9OBfntRB/img/sheelah-brennan-uaevmc51ttw-unsplash-1.png')",filter:"brightness(0.3) blur(20px)"}})],-1)),e("div",N,[e("div",P,[t[8]||(t[8]=e("h1",{class:"text-center text-3xl font-bold mb-10"},"All Recipes",-1)),e("div",D,[e("ul",j,[a.recipes.data.length===0?(l(),n("li",I,"No recipes found.")):(l(!0),n(x,{key:1},g(a.recipes.data,(s,p)=>(l(),n("li",{key:p,class:"flex items-start gap-6 transition-transform transform hover:scale-105"},[e("img",{src:s.RecipePhoto?`/storage/${s.RecipePhoto}`:"https://via.placeholder.com/403x212",alt:"Recipe Image",class:"w-24 h-24 rounded-md object-cover shadow-md border-2 border-yellow-500"},null,8,L),e("div",A,[e("div",S,[e("div",V,[e("div",E,i(s.RecipeTitle),1),e("div",F,[e("p",null,[t[3]||(t[3]=e("strong",null,"Income:",-1)),f(" ₱"+i(s.income.toFixed(2)),1)]),e("p",null,[t[4]||(t[4]=e("strong",null,"Views:",-1)),f(" "+i(s.views_count>0?s.views_count:"No views"),1)]),e("p",O,"Created on: "+i(s.formatted_date),1)]),t[5]||(t[5]=e("p",{class:"text-black-100 font-semibold"},"Average Rating:",-1)),e("div",Y,[s.average_rating&&s.average_rating>0?(l(),n(x,{key:0},g(5,d=>e("i",{key:d,class:h(d<=Math.round(s.average_rating)?"text-yellow-500":"text-gray-300")}," ★ ",2)),64)):(l(),n("span",z,"Not reviewed yet"))])]),e("div",G,[e("a",{href:`/chef/dashboard/recipes/${s.RecipeID}/edit`,class:"px-6 py-2 bg-yellow-400 text-black-100 rounded-full shadow-lg hover:bg-yellow-500 transition-all duration-300 ease-in-out"}," Edit Recipe ",8,M),e("button",{onClick:d=>r.deleteRecipe(s.RecipeID),class:"px-6 py-2 bg-red-400 text-white rounded-full shadow-lg hover:bg-red-500 transition-all duration-300 ease-in-out"}," Delete Recipe ",8,q)])])])]))),128))])]),e("div",H,[a.recipes.prev_page_url?(l(),n("button",{key:0,onClick:t[0]||(t[0]=s=>r.goToPage(a.recipes.current_page-1)),class:"flex items-center px-4 py-2 bg-yellow-400 text-black rounded-full shadow-lg hover:bg-yellow-500 transition-all duration-300 ease-in-out"},t[6]||(t[6]=[e("span",null,"« Previous",-1)]))):m("",!0),e("div",J,[(l(!0),n(x,null,g(r.pages,s=>(l(),n("button",{key:s,class:h([{"bg-yellow-500":s===a.recipes.current_page,"hover:bg-yellow-400":s!==a.recipes.current_page},"px-4 py-2 rounded-full text-black-100 transition-all duration-300 ease-in-out"]),onClick:p=>r.goToPage(s)},i(s),11,K))),128))]),a.recipes.next_page_url?(l(),n("button",{key:1,onClick:t[1]||(t[1]=s=>r.goToPage(a.recipes.current_page+1)),class:"flex items-center px-4 py-2 bg-yellow-400 text-black rounded-full shadow-lg hover:bg-yellow-500 transition-all duration-300 ease-in-out"},t[7]||(t[7]=[e("span",null,"Next »",-1)]))):m("",!0)]),e("button",{onClick:t[2]||(t[2]=(...s)=>r.goBack&&r.goBack(...s)),class:"text-normal border-4 border-black-100 bg-yellow-300 hover:bg-yellow-500 text-black font-semibold py-2 px-5 rounded-xl shadow-lg mx-auto block mt-8"}," Go Back ")])])])]),_:1})}const Z=B(R,[["render",Q]]);export{Z as default};
