import{r as p,c as v,w,o as f,b as o,e as y,h as n,v as r,f as x,g as h,q as k,S as c,l as T}from"./app-bfppTam7.js";import{L as C}from"./frontend-CLQAzc1F.js";import"./index-BeLMSIJM.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"relative overflow-hidden"},P={class:"flex items-center justify-center h-full relative px-10 sm:px-12 lg:px-16 mt-10 mb-10"},V={class:"bg-white w-full max-w-[200vh] p-12 sm:p-16 lg:p-20 rounded-2xl shadow-lg"},B={class:"col-span-1"},I={class:"col-span-1"},U={class:"col-span-1"},S={class:"col-span-1"},L={class:"col-span-1"},E=["src"],j={class:"col-span-1"},F={class:"col-span-1"},M={class:"col-span-1"},O={class:"col-span-1"},N={class:"col-span-1"},q={__name:"Edit_post",props:{recipe:Object},setup(m){const s=m,l=p({RecipeTitle:s.recipe.RecipeTitle,Description:s.recipe.Description,Ingredients:s.recipe.Ingredients,Instructions:s.recipe.Instructions,Preparation:s.recipe.Preparation,CookingTime:s.recipe.CookingTime,Difficulty:s.recipe.Difficulty,Servings:s.recipe.Servings,RecipePhoto:null,VideoLink:s.recipe.VideoLink||""}),u=p(s.recipe.RecipePhoto?`/storage/${s.recipe.RecipePhoto}`:null),b=a=>{const e=a.target.files[0];e&&(l.value.RecipePhoto=e,u.value=URL.createObjectURL(e))},g=async()=>{var a,e;try{if((await c.fire({title:"Are you sure?",text:"Do you want to update this recipe?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!",background:"rgba(255, 255, 255, 1)",confirmButtonColor:"rgba(204, 162, 35, 1)",cancelButtonColor:"rgba(54, 69, 79, 1)",iconColor:"rgba(255, 219, 99, 1)",customClass:{popup:"swal-popup"}})).isConfirmed){const d=new FormData;Object.keys(l.value).forEach(i=>{l.value[i]!==null&&l.value[i]!==void 0&&(i==="RecipePhoto"&&l.value[i]instanceof File||i!=="RecipePhoto")&&d.append(i,l.value[i])}),await T.post(`/chef/dashboard/recipes/${s.recipe.RecipeID}/update`,d,{headers:{"Content-Type":"multipart/form-data","X-HTTP-Method-Override":"PUT"}}),await c.fire({title:"Success!",text:"Recipe updated successfully",icon:"success",confirmButtonColor:"rgba(204, 162, 35, 1)"}),window.location.href="/chef/dashboard"}}catch(t){console.error("Error:",t),c.fire({title:"Error!",text:((e=(a=t.response)==null?void 0:a.data)==null?void 0:e.error)||"Failed to update recipe",icon:"error",confirmButtonColor:"rgba(204, 162, 35, 1)"})}};return(a,e)=>(f(),v(C,null,{default:w(()=>[o("div",D,[e[22]||(e[22]=o("div",{class:"absolute inset-0 -m-[20px]"},[o("div",{class:"absolute inset-0 bg-cover bg-center",style:{"background-image":"url('https://c.animaapp.com/9OBfntRB/img/sheelah-brennan-uaevmc51ttw-unsplash-1.png')",filter:"brightness(0.3) blur(20px)"}})],-1)),o("div",P,[o("div",V,[e[21]||(e[21]=o("h1",{class:"text-center text-large font-bold mb-10"},"Edit Recipe",-1)),o("form",{class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",onSubmit:y(g,["prevent"])},[o("div",B,[e[9]||(e[9]=o("label",{class:"block text-lg font-semibold mb-2"},"Recipe Title*",-1)),n(o("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.RecipeTitle=t),type:"text",class:"w-full border border-gray-300 shadow-sm rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",required:""},null,512),[[r,l.value.RecipeTitle]])]),o("div",I,[e[10]||(e[10]=o("label",{class:"block text-lg font-semibold mb-2"},"Description",-1)),n(o("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.value.Description=t),class:"w-full border border-gray-300 shadow-sm rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-yellow-500"},null,512),[[r,l.value.Description]])]),o("div",U,[e[11]||(e[11]=o("label",{class:"block text-lg font-semibold mb-2"},"Ingredients",-1)),n(o("textarea",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.value.Ingredients=t),class:"w-full border border-gray-300 shadow-sm rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-yellow-500"},null,512),[[r,l.value.Ingredients]])]),o("div",S,[e[12]||(e[12]=o("label",{class:"block text-lg font-semibold mb-2"},"Instructions",-1)),n(o("textarea",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.Instructions=t),class:"w-full border border-gray-300 shadow-sm rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-yellow-500"},null,512),[[r,l.value.Instructions]])]),o("div",L,[e[13]||(e[13]=o("label",{class:"block text-lg font-semibold mb-2"},"Recipe Photo",-1)),o("input",{ref:"fileInput",type:"file",accept:"image/*",onChange:b,class:"w-full text-gray-700"},null,544),u.value?(f(),x("img",{key:0,src:u.value,alt:"Preview",class:"mt-4 w-full h-40 object-cover"},null,8,E)):h("",!0)]),o("div",j,[e[14]||(e[14]=o("label",{class:"block text-lg font-semibold mb-2"},"Preparation Time (minutes)",-1)),n(o("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.Preparation=t),type:"number",class:"w-full border border-gray-300 shadow-sm rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-yellow-500"},null,512),[[r,l.value.Preparation]])]),o("div",F,[e[15]||(e[15]=o("label",{class:"block text-lg font-semibold mb-2"},"Cooking Time (minutes)",-1)),n(o("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.value.CookingTime=t),type:"number",class:"w-full border border-gray-300 shadow-sm rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-yellow-500"},null,512),[[r,l.value.CookingTime]])]),o("div",M,[e[17]||(e[17]=o("label",{class:"block text-lg font-semibold mb-2"},"Difficulty",-1)),n(o("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.value.Difficulty=t),class:"w-full border border-gray-300 shadow-sm rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-yellow-500"},e[16]||(e[16]=[o("option",{disabled:"",value:""},"Select Difficulty",-1),o("option",null,"Easy",-1),o("option",null,"Medium",-1),o("option",null,"Hard",-1)]),512),[[k,l.value.Difficulty]])]),o("div",O,[e[18]||(e[18]=o("label",{class:"block text-lg font-semibold mb-2"},"Servings",-1)),n(o("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>l.value.Servings=t),type:"number",class:"w-full border border-gray-300 shadow-sm rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-yellow-500"},null,512),[[r,l.value.Servings]])]),o("div",N,[e[19]||(e[19]=o("label",{class:"block text-lg font-semibold mb-2"},"YouTube Video Link",-1)),n(o("input",{type:"url","onUpdate:modelValue":e[8]||(e[8]=t=>l.value.VideoLink=t),placeholder:"https://www.youtube.com/watch?v=...",class:"w-full border border-gray-300 shadow-sm rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-yellow-500"},null,512),[[r,l.value.VideoLink]])]),e[20]||(e[20]=o("div",{class:"col-span-3 flex justify-center mt-6"},[o("button",{type:"submit",class:"bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-3 px-8 rounded-md shadow-md"}," Update ")],-1))],32)])])])]),_:1}))}},X=R(q,[["__scopeId","data-v-974d4605"]]);export{X as default};
