import{r as D,x as V,c as F,w as E,o as l,b as t,f as a,F as P,p as I,g as m,e as L,h as s,q as j,u as i,v as u,S as p,t as U}from"./app-B9TWRML0.js";import{u as M,L as q}from"./backend-BKzfyt22.js";import"./index-CpCeDv4i.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-CK6YOssI.js";const A={class:"max-w-4xl mx-auto p-6 bg-white shadow-lg rounded-lg"},N={key:0,class:"mb-4"},O={class:"text-red-600"},Y=["value"],$={key:0},G=["src"],z={key:1,class:"mt-2"},H=["src"],Z={__name:"Edit",props:{recipe:{type:Object,required:!0},chefs:{type:Array,required:!0}},setup(d){var b,y,x,v,w,k,R,T,C;const n=d,r=M({chef_id:((b=n.recipe)==null?void 0:b.chef_id)??"",RecipeTitle:((y=n.recipe)==null?void 0:y.RecipeTitle)??"",Description:((x=n.recipe)==null?void 0:x.Description)??"",Ingredients:((v=n.recipe)==null?void 0:v.Ingredients)??"",RecipePhoto:null,Instructions:((w=n.recipe)==null?void 0:w.Instructions)??"",Preparation:((k=n.recipe)==null?void 0:k.Preparation)??"",CookingTime:((R=n.recipe)==null?void 0:R.CookingTime)??"",Difficulty:((T=n.recipe)==null?void 0:T.Difficulty)??"",Servings:((C=n.recipe)==null?void 0:C.Servings)??""}),c=D([]),f=D(null);V(()=>{n.recipe.RecipePhoto&&(f.value=`/storage/${n.recipe.RecipePhoto}`)});const B=g=>{const e=g.target.files[0];e&&(f.value=URL.createObjectURL(e),r.RecipePhoto=e)},S=async()=>{(await p.fire({title:"Are you sure?",text:"You are about to update this recipe.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel",background:"rgba(255, 255, 255, 1)",confirmButtonColor:"rgba(204, 162, 35, 1)",cancelButtonColor:"rgba(54, 69, 79, 1)",iconColor:"rgba(255, 219, 99, 1)"})).isConfirmed?r.put(route("recipes.update",n.recipe.RecipeID),{onFinish:()=>{p.fire({title:"Updated!",text:"Your recipe has been updated successfully.",icon:"success",confirmButtonText:"Great!"}),c.value=[]},onError:e=>{p.fire({title:"Error!",text:"There was an error updating the recipe.",icon:"error",confirmButtonText:"Try Again"}),c.value=e}}):p.fire({title:"Cancelled",text:"Recipe update has been cancelled.",icon:"info",confirmButtonText:"Okay"})};return(g,e)=>(l(),F(q,null,{default:E(()=>[t("div",A,[e[20]||(e[20]=t("h1",{class:"text-3xl font-semibold mb-6"},"Edit Recipe",-1)),c.value.length?(l(),a("div",N,[t("ul",O,[(l(!0),a(P,null,I(c.value,(o,h)=>(l(),a("li",{key:h},U(o),1))),128))])])):m("",!0),t("form",{onSubmit:L(S,["prevent"]),class:"grid grid-cols-2 gap-6"},[t("div",null,[e[9]||(e[9]=t("label",{for:"chef_id",class:"block text-sm font-medium text-gray-700"},"Chef",-1)),s(t("select",{id:"chef_id","onUpdate:modelValue":e[0]||(e[0]=o=>i(r).chef_id=o),class:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:outline-none"},[(l(!0),a(P,null,I(d.chefs,o=>(l(),a("option",{key:o.ChefID,value:o.ChefID},U(o.user.name),9,Y))),128))],512),[[j,i(r).chef_id]])]),t("div",null,[e[10]||(e[10]=t("label",{for:"RecipeTitle",class:"block text-sm font-medium text-gray-700"},"Recipe Title",-1)),s(t("input",{type:"text",id:"RecipeTitle","onUpdate:modelValue":e[1]||(e[1]=o=>i(r).RecipeTitle=o),class:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:outline-none"},null,512),[[u,i(r).RecipeTitle]])]),t("div",null,[e[11]||(e[11]=t("label",{for:"Description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),s(t("textarea",{id:"Description","onUpdate:modelValue":e[2]||(e[2]=o=>i(r).Description=o),rows:"4",class:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:outline-none"},null,512),[[u,i(r).Description]])]),t("div",null,[e[12]||(e[12]=t("label",{for:"Ingredients",class:"block text-sm font-medium text-gray-700"},"Ingredients",-1)),s(t("textarea",{id:"Ingredients","onUpdate:modelValue":e[3]||(e[3]=o=>i(r).Ingredients=o),rows:"4",class:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:outline-none"},null,512),[[u,i(r).Ingredients]])]),t("div",null,[e[13]||(e[13]=t("label",{for:"RecipePhoto",class:"block text-sm font-medium text-gray-700"},"Recipe Photo",-1)),t("input",{type:"file",id:"RecipePhoto",onChange:B,class:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:outline-none"},null,32),i(r).RecipePhoto?(l(),a("div",$,[t("img",{src:f.value,alt:"Recipe Photo",class:"mt-4 w-48 h-48 object-cover"},null,8,G)])):m("",!0),d.recipe.RecipePhoto?(l(),a("div",z,[t("img",{src:`/storage/${d.recipe.RecipePhoto}`,alt:"Current Recipe Photo",class:"mt-4 w-48 h-48 object-cover"},null,8,H)])):m("",!0)]),t("div",null,[e[14]||(e[14]=t("label",{for:"Instructions",class:"block text-sm font-medium text-gray-700"},"Instructions",-1)),s(t("textarea",{id:"Instructions","onUpdate:modelValue":e[4]||(e[4]=o=>i(r).Instructions=o),rows:"4",class:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:outline-none"},null,512),[[u,i(r).Instructions]])]),t("div",null,[e[15]||(e[15]=t("label",{for:"Preparation",class:"block text-sm font-medium text-gray-700"},"Preparation Time",-1)),s(t("input",{type:"text",id:"Preparation","onUpdate:modelValue":e[5]||(e[5]=o=>i(r).Preparation=o),class:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:outline-none"},null,512),[[u,i(r).Preparation]])]),t("div",null,[e[16]||(e[16]=t("label",{for:"CookingTime",class:"block text-sm font-medium text-gray-700"},"Cooking Time (minutes)",-1)),s(t("input",{type:"number",id:"CookingTime","onUpdate:modelValue":e[6]||(e[6]=o=>i(r).CookingTime=o),class:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:outline-none"},null,512),[[u,i(r).CookingTime]])]),t("div",null,[e[17]||(e[17]=t("label",{for:"Difficulty",class:"block text-sm font-medium text-gray-700"},"Difficulty",-1)),s(t("input",{type:"text",id:"Difficulty","onUpdate:modelValue":e[7]||(e[7]=o=>i(r).Difficulty=o),class:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:outline-none"},null,512),[[u,i(r).Difficulty]])]),t("div",null,[e[18]||(e[18]=t("label",{for:"Servings",class:"block text-sm font-medium text-gray-700"},"Servings",-1)),s(t("input",{type:"number",id:"Servings","onUpdate:modelValue":e[8]||(e[8]=o=>i(r).Servings=o),class:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:outline-none"},null,512),[[u,i(r).Servings]])]),e[19]||(e[19]=t("div",{class:"col-span-2 flex space-x-3 mt-6"},[t("button",{type:"submit",class:"px-6 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 focus:ring-2 focus:ring-orange-500"},"Update Recipe"),t("a",{href:"/recipes"},[t("button",{type:"button",class:"px-6 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 focus:ring-2 focus:ring-gray-300"},"Cancel")])],-1))],32)])]),_:1}))}};export{Z as default};
